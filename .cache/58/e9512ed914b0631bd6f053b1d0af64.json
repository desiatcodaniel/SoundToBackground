{"id":"node_modules/@tensorflow/tfjs-core/dist/serialization.js","dependencies":[{"name":"C:\\Users\\Daniel\\Documents\\SoundToBackground\\node_modules\\@tensorflow\\tfjs-core\\dist\\serialization.js.map","includedInParent":true,"mtime":1618542804358},{"name":"C:\\Users\\Daniel\\Documents\\SoundToBackground\\node_modules\\@tensorflow\\tfjs-core\\src\\serialization.ts","includedInParent":true,"mtime":1618542804950},{"name":"C:\\Users\\Daniel\\Documents\\SoundToBackground\\package.json","includedInParent":true,"mtime":1618542826354},{"name":"C:\\Users\\Daniel\\Documents\\SoundToBackground\\node_modules\\@tensorflow\\tfjs-core\\package.json","includedInParent":true,"mtime":1618542804579},{"name":"./util","loc":{"line":17,"column":23},"parent":"C:\\Users\\Daniel\\Documents\\SoundToBackground\\node_modules\\@tensorflow\\tfjs-core\\dist\\serialization.js","resolved":"C:\\Users\\Daniel\\Documents\\SoundToBackground\\node_modules\\@tensorflow\\tfjs-core\\dist\\util.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registerClass = registerClass;\nexports.SerializationMap = exports.Serializable = void 0;\n\nvar _util = require(\"./util\");\n\n/**\r\n * @license\r\n * Copyright 2018 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\n\n/**\r\n * Serializable defines the serialization contract.\r\n *\r\n * TFJS requires serializable classes to return their className when asked\r\n * to avoid issues with minification.\r\n */\nclass Serializable {\n  /**\r\n   * Return the class name for this class to use in serialization contexts.\r\n   *\r\n   * Generally speaking this will be the same thing that constructor.name\r\n   * would have returned.  However, the class name needs to be robust\r\n   * against minification for serialization/deserialization to work properly.\r\n   *\r\n   * There's also places such as initializers.VarianceScaling, where\r\n   * implementation details between different languages led to different\r\n   * class hierarchies and a non-leaf node is used for serialization purposes.\r\n   */\n  getClassName() {\n    return this.constructor.className;\n  }\n  /**\r\n   * Creates an instance of T from a ConfigDict.\r\n   *\r\n   * This works for most descendants of serializable.  A few need to\r\n   * provide special handling.\r\n   * @param cls A Constructor for the class to instantiate.\r\n   * @param config The Configuration for the object.\r\n   */\n\n  /** @nocollapse */\n\n\n  static fromConfig(cls, config) {\n    return new cls(config);\n  }\n\n}\n/**\r\n * Maps string keys to class constructors.\r\n *\r\n * Used during (de)serialization from the cross-language JSON format, which\r\n * requires the class name in the serialization format matches the class\r\n * names as used in Python, should it exist.\r\n */\n\n\nexports.Serializable = Serializable;\n\nclass SerializationMap {\n  constructor() {\n    this.classNameMap = {};\n  }\n  /**\r\n   * Returns the singleton instance of the map.\r\n   */\n\n\n  static getMap() {\n    if (SerializationMap.instance == null) {\n      SerializationMap.instance = new SerializationMap();\n    }\n\n    return SerializationMap.instance;\n  }\n  /**\r\n   * Registers the class as serializable.\r\n   */\n\n\n  static register(cls) {\n    SerializationMap.getMap().classNameMap[cls.className] = [cls, cls.fromConfig];\n  }\n\n}\n/**\r\n * Register a class with the serialization map of TensorFlow.js.\r\n *\r\n * This is often used for registering custom Layers, so they can be\r\n * serialized and deserialized.\r\n *\r\n * Example:\r\n *\r\n * ```js\r\n * class MyCustomLayer extends tf.layers.Layer {\r\n *   static className = 'MyCustomLayer';\r\n *\r\n *   constructor(config) {\r\n *     super(config);\r\n *   }\r\n * }\r\n * tf.serialization.registerClass(MyCustomLayer);\r\n * ```\r\n *\r\n * @param cls The class to be registered. It must have a public static member\r\n *   called `className` defined and the value must be a non-empty string.\r\n *\r\n * @doc {heading: 'Models', subheading: 'Serialization', ignoreCI: true}\r\n */\n\n\nexports.SerializationMap = SerializationMap;\n\nfunction registerClass(cls) {\n  (0, _util.assert)(cls.className != null, () => `Class being registered does not have the static className ` + `property defined.`);\n  (0, _util.assert)(typeof cls.className === 'string', () => `className is required to be a string, but got type ` + typeof cls.className);\n  (0, _util.assert)(cls.className.length > 0, () => `Class being registered has an empty-string as its className, ` + `which is disallowed.`);\n  SerializationMap.register(cls);\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../src/serialization.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":9,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":11,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":28,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":34,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":63,"column":22},"generated":{"line":34,"column":6}},{"source":"../src/serialization.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":34,"column":18}},{"source":"../src/serialization.ts","name":null,"original":{"line":63,"column":34},"generated":{"line":34,"column":19}},{"source":"../src/serialization.ts","name":null,"original":{"line":64,"column":2},"generated":{"line":35,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":75,"column":2},"generated":{"line":46,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":75,"column":2},"generated":{"line":46,"column":2}},{"source":"../src/serialization.ts","name":null,"original":{"line":75,"column":14},"generated":{"line":46,"column":14}},{"source":"../src/serialization.ts","name":null,"original":{"line":75,"column":14},"generated":{"line":46,"column":17}},{"source":"../src/serialization.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":47,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":47,"column":11}},{"source":"../src/serialization.ts","name":null,"original":{"line":76,"column":17},"generated":{"line":47,"column":16}},{"source":"../src/serialization.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":47,"column":27}},{"source":"../src/serialization.ts","name":null,"original":{"line":77,"column":9},"generated":{"line":47,"column":28}},{"source":"../src/serialization.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":47,"column":37}},{"source":"../src/serialization.ts","name":null,"original":{"line":78,"column":3},"generated":{"line":48,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":49,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":93,"column":2},"generated":{"line":58,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":94,"column":2},"generated":{"line":61,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":94,"column":9},"generated":{"line":61,"column":9}},{"source":"../src/serialization.ts","name":null,"original":{"line":94,"column":2},"generated":{"line":61,"column":19}},{"source":"../src/serialization.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":61,"column":20}},{"source":"../src/serialization.ts","name":null,"original":{"line":94,"column":2},"generated":{"line":61,"column":23}},{"source":"../src/serialization.ts","name":null,"original":{"line":95,"column":39},"generated":{"line":61,"column":25}},{"source":"../src/serialization.ts","name":null,"original":{"line":94,"column":2},"generated":{"line":61,"column":31}},{"source":"../src/serialization.ts","name":null,"original":{"line":95,"column":57},"generated":{"line":61,"column":33}},{"source":"../src/serialization.ts","name":null,"original":{"line":96,"column":4},"generated":{"line":62,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":62,"column":11}},{"source":"../src/serialization.ts","name":null,"original":{"line":96,"column":15},"generated":{"line":62,"column":15}},{"source":"../src/serialization.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":62,"column":18}},{"source":"../src/serialization.ts","name":null,"original":{"line":96,"column":19},"generated":{"line":62,"column":19}},{"source":"../src/serialization.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":62,"column":25}},{"source":"../src/serialization.ts","name":null,"original":{"line":96,"column":4},"generated":{"line":62,"column":26}},{"source":"../src/serialization.ts","name":null,"original":{"line":97,"column":3},"generated":{"line":63,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":63,"column":34},"generated":{"line":65,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":100,"column":0},"generated":{"line":66,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":107,"column":6},"generated":{"line":77,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":77,"column":6}},{"source":"../src/serialization.ts","name":null,"original":{"line":107,"column":6},"generated":{"line":77,"column":22}},{"source":"../src/serialization.ts","name":null,"original":{"line":107,"column":29},"generated":{"line":77,"column":23}},{"source":"../src/serialization.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":78,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":78,"column":2}},{"source":"../src/serialization.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":78,"column":13}},{"source":"../src/serialization.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":78,"column":16}},{"source":"../src/serialization.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":79,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":115,"column":9},"generated":{"line":79,"column":9}},{"source":"../src/serialization.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":79,"column":21}},{"source":"../src/serialization.ts","name":null,"original":{"line":115,"column":24},"generated":{"line":79,"column":24}},{"source":"../src/serialization.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":79,"column":26}},{"source":"../src/serialization.ts","name":null,"original":{"line":116,"column":3},"generated":{"line":80,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":118,"column":2},"generated":{"line":81,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":86,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":121,"column":9},"generated":{"line":86,"column":9}},{"source":"../src/serialization.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":86,"column":15}},{"source":"../src/serialization.ts","name":null,"original":{"line":121,"column":15},"generated":{"line":86,"column":18}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":87,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":87,"column":8}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":24},"generated":{"line":87,"column":24}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":25},"generated":{"line":87,"column":25}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":87,"column":33}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":37},"generated":{"line":87,"column":37}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":87,"column":41}},{"source":"../src/serialization.ts","name":null,"original":{"line":122,"column":43},"generated":{"line":87,"column":43}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":88,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":88,"column":6}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":22},"generated":{"line":88,"column":22}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":23},"generated":{"line":88,"column":23}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":88,"column":31}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":34},"generated":{"line":88,"column":34}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":38},"generated":{"line":88,"column":38}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":34},"generated":{"line":88,"column":54}},{"source":"../src/serialization.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":88,"column":56}},{"source":"../src/serialization.ts","name":null,"original":{"line":124,"column":5},"generated":{"line":89,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":91,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":125,"column":11},"generated":{"line":91,"column":11}},{"source":"../src/serialization.ts","name":null,"original":{"line":125,"column":27},"generated":{"line":91,"column":27}},{"source":"../src/serialization.ts","name":null,"original":{"line":125,"column":28},"generated":{"line":91,"column":28}},{"source":"../src/serialization.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":91,"column":36}},{"source":"../src/serialization.ts","name":null,"original":{"line":126,"column":3},"generated":{"line":92,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":128,"column":2},"generated":{"line":93,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":131,"column":2},"generated":{"line":98,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":131,"column":9},"generated":{"line":98,"column":9}},{"source":"../src/serialization.ts","name":null,"original":{"line":131,"column":2},"generated":{"line":98,"column":17}},{"source":"../src/serialization.ts","name":null,"original":{"line":131,"column":42},"generated":{"line":98,"column":18}},{"source":"../src/serialization.ts","name":null,"original":{"line":131,"column":2},"generated":{"line":98,"column":21}},{"source":"../src/serialization.ts","name":null,"original":{"line":131,"column":73},"generated":{"line":98,"column":23}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":99,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":99,"column":4}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":20},"generated":{"line":99,"column":20}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":21},"generated":{"line":99,"column":21}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":99,"column":27}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":30},"generated":{"line":99,"column":30}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":99,"column":42}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":43},"generated":{"line":99,"column":43}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":46},"generated":{"line":99,"column":46}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":47},"generated":{"line":99,"column":47}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":99,"column":56}},{"source":"../src/serialization.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":99,"column":60}},{"source":"../src/serialization.ts","name":null,"original":{"line":133,"column":9},"generated":{"line":99,"column":61}},{"source":"../src/serialization.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":99,"column":64}},{"source":"../src/serialization.ts","name":null,"original":{"line":133,"column":14},"generated":{"line":99,"column":66}},{"source":"../src/serialization.ts","name":null,"original":{"line":133,"column":17},"generated":{"line":99,"column":69}},{"source":"../src/serialization.ts","name":null,"original":{"line":133,"column":18},"generated":{"line":99,"column":70}},{"source":"../src/serialization.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":99,"column":80}},{"source":"../src/serialization.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":99,"column":81}},{"source":"../src/serialization.ts","name":null,"original":{"line":134,"column":3},"generated":{"line":100,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":107,"column":29},"generated":{"line":102,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":137,"column":0},"generated":{"line":103,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":161,"column":6},"generated":{"line":131,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":161,"column":16},"generated":{"line":131,"column":9}},{"source":"../src/serialization.ts","name":null,"original":{"line":161,"column":6},"generated":{"line":131,"column":22}},{"source":"../src/serialization.ts","name":null,"original":{"line":162,"column":4},"generated":{"line":131,"column":23}},{"source":"../src/serialization.ts","name":null,"original":{"line":161,"column":6},"generated":{"line":131,"column":26}},{"source":"../src/serialization.ts","name":null,"original":{"line":162,"column":35},"generated":{"line":131,"column":28}},{"source":"../src/serialization.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":132,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":164,"column":6},"generated":{"line":132,"column":20}},{"source":"../src/serialization.ts","name":null,"original":{"line":164,"column":9},"generated":{"line":132,"column":23}},{"source":"../src/serialization.ts","name":null,"original":{"line":164,"column":10},"generated":{"line":132,"column":24}},{"source":"../src/serialization.ts","name":null,"original":{"line":164,"column":6},"generated":{"line":132,"column":33}},{"source":"../src/serialization.ts","name":null,"original":{"line":164,"column":23},"generated":{"line":132,"column":37}},{"source":"../src/serialization.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":132,"column":41}},{"source":"../src/serialization.ts","name":null,"original":{"line":165,"column":6},"generated":{"line":132,"column":43}},{"source":"../src/serialization.ts","name":null,"original":{"line":165,"column":12},"generated":{"line":132,"column":49}},{"source":"../src/serialization.ts","name":null,"original":{"line":165,"column":12},"generated":{"line":132,"column":109}},{"source":"../src/serialization.ts","name":null,"original":{"line":166,"column":10},"generated":{"line":132,"column":112}},{"source":"../src/serialization.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":132,"column":131}},{"source":"../src/serialization.ts","name":null,"original":{"line":167,"column":2},"generated":{"line":133,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":168,"column":6},"generated":{"line":133,"column":20}},{"source":"../src/serialization.ts","name":null,"original":{"line":168,"column":13},"generated":{"line":133,"column":27}},{"source":"../src/serialization.ts","name":null,"original":{"line":168,"column":16},"generated":{"line":133,"column":30}},{"source":"../src/serialization.ts","name":null,"original":{"line":168,"column":17},"generated":{"line":133,"column":31}},{"source":"../src/serialization.ts","name":null,"original":{"line":168,"column":6},"generated":{"line":133,"column":40}},{"source":"../src/serialization.ts","name":null,"original":{"line":168,"column":31},"generated":{"line":133,"column":45}},{"source":"../src/serialization.ts","name":null,"original":{"line":167,"column":2},"generated":{"line":133,"column":53}},{"source":"../src/serialization.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":133,"column":55}},{"source":"../src/serialization.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":133,"column":61}},{"source":"../src/serialization.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":133,"column":114}},{"source":"../src/serialization.ts","name":null,"original":{"line":170,"column":10},"generated":{"line":133,"column":117}},{"source":"../src/serialization.ts","name":null,"original":{"line":170,"column":17},"generated":{"line":133,"column":124}},{"source":"../src/serialization.ts","name":null,"original":{"line":170,"column":20},"generated":{"line":133,"column":127}},{"source":"../src/serialization.ts","name":null,"original":{"line":170,"column":21},"generated":{"line":133,"column":128}},{"source":"../src/serialization.ts","name":null,"original":{"line":167,"column":2},"generated":{"line":133,"column":137}},{"source":"../src/serialization.ts","name":null,"original":{"line":171,"column":2},"generated":{"line":134,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":172,"column":6},"generated":{"line":134,"column":20}},{"source":"../src/serialization.ts","name":null,"original":{"line":172,"column":9},"generated":{"line":134,"column":23}},{"source":"../src/serialization.ts","name":null,"original":{"line":172,"column":10},"generated":{"line":134,"column":24}},{"source":"../src/serialization.ts","name":null,"original":{"line":172,"column":6},"generated":{"line":134,"column":33}},{"source":"../src/serialization.ts","name":null,"original":{"line":172,"column":20},"generated":{"line":134,"column":34}},{"source":"../src/serialization.ts","name":null,"original":{"line":172,"column":6},"generated":{"line":134,"column":40}},{"source":"../src/serialization.ts","name":null,"original":{"line":172,"column":29},"generated":{"line":134,"column":43}},{"source":"../src/serialization.ts","name":null,"original":{"line":171,"column":2},"generated":{"line":134,"column":44}},{"source":"../src/serialization.ts","name":null,"original":{"line":173,"column":6},"generated":{"line":134,"column":46}},{"source":"../src/serialization.ts","name":null,"original":{"line":173,"column":12},"generated":{"line":134,"column":52}},{"source":"../src/serialization.ts","name":null,"original":{"line":173,"column":12},"generated":{"line":134,"column":115}},{"source":"../src/serialization.ts","name":null,"original":{"line":174,"column":10},"generated":{"line":134,"column":118}},{"source":"../src/serialization.ts","name":null,"original":{"line":171,"column":2},"generated":{"line":134,"column":140}},{"source":"../src/serialization.ts","name":null,"original":{"line":176,"column":2},"generated":{"line":135,"column":0}},{"source":"../src/serialization.ts","name":null,"original":{"line":176,"column":2},"generated":{"line":135,"column":2}},{"source":"../src/serialization.ts","name":null,"original":{"line":176,"column":18},"generated":{"line":135,"column":18}},{"source":"../src/serialization.ts","name":null,"original":{"line":176,"column":19},"generated":{"line":135,"column":19}},{"source":"../src/serialization.ts","name":null,"original":{"line":176,"column":2},"generated":{"line":135,"column":27}},{"source":"../src/serialization.ts","name":null,"original":{"line":176,"column":28},"generated":{"line":135,"column":28}},{"source":"../src/serialization.ts","name":null,"original":{"line":176,"column":2},"generated":{"line":135,"column":31}},{"source":"../src/serialization.ts","name":null,"original":{"line":177,"column":1},"generated":{"line":136,"column":0}}],"sources":{"../src/serialization.ts":"/**\r\n * @license\r\n * Copyright 2018 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nimport {assert} from './util';\r\n\r\n/**\r\n * Types to support JSON-esque data structures internally.\r\n *\r\n * Internally ConfigDict's use camelCase keys and values where the\r\n * values are class names to be instantiated.  On the python side, these\r\n * will be snake_case.  Internally we allow Enums into the values for better\r\n * type safety, but these need to be converted to raw primitives (usually\r\n * strings) for round-tripping with python.\r\n *\r\n * toConfig returns the TS-friendly representation. model.toJSON() returns\r\n * the pythonic version as that's the portable format.  If you need to\r\n * python-ify a non-model level toConfig output, you'll need to use a\r\n * convertTsToPythonic from serialization_utils in -Layers.\r\n *\r\n */\r\nexport declare type ConfigDictValue =\r\n    boolean | number | string | null | ConfigDictArray | ConfigDict;\r\nexport declare interface ConfigDict {\r\n  [key: string]: ConfigDictValue;\r\n}\r\nexport declare interface ConfigDictArray extends Array<ConfigDictValue> {}\r\n\r\n/**\r\n * Type to represent the class-type of Serializable objects.\r\n *\r\n * Ie the class prototype with access to the constructor and any\r\n * static members/methods. Instance methods are not listed here.\r\n *\r\n * Source for this idea: https://stackoverflow.com/a/43607255\r\n */\r\nexport declare type SerializableConstructor<T extends Serializable> = {\r\n  // tslint:disable-next-line:no-any\r\n  new (...args: any[]): T; className: string; fromConfig: FromConfigMethod<T>;\r\n};\r\nexport declare type FromConfigMethod<T extends Serializable> =\r\n    (cls: SerializableConstructor<T>, config: ConfigDict) => T;\r\n\r\n/**\r\n * Serializable defines the serialization contract.\r\n *\r\n * TFJS requires serializable classes to return their className when asked\r\n * to avoid issues with minification.\r\n */\r\nexport abstract class Serializable {\r\n  /**\r\n   * Return the class name for this class to use in serialization contexts.\r\n   *\r\n   * Generally speaking this will be the same thing that constructor.name\r\n   * would have returned.  However, the class name needs to be robust\r\n   * against minification for serialization/deserialization to work properly.\r\n   *\r\n   * There's also places such as initializers.VarianceScaling, where\r\n   * implementation details between different languages led to different\r\n   * class hierarchies and a non-leaf node is used for serialization purposes.\r\n   */\r\n  getClassName(): string {\r\n    return (this.constructor as SerializableConstructor<Serializable>)\r\n        .className;\r\n  }\r\n\r\n  /**\r\n   * Return all the non-weight state needed to serialize this object.\r\n   */\r\n  abstract getConfig(): ConfigDict;\r\n\r\n  /**\r\n   * Creates an instance of T from a ConfigDict.\r\n   *\r\n   * This works for most descendants of serializable.  A few need to\r\n   * provide special handling.\r\n   * @param cls A Constructor for the class to instantiate.\r\n   * @param config The Configuration for the object.\r\n   */\r\n  /** @nocollapse */\r\n  static fromConfig<T extends Serializable>(\r\n      cls: SerializableConstructor<T>, config: ConfigDict): T {\r\n    return new cls(config);\r\n  }\r\n}\r\n\r\n/**\r\n * Maps string keys to class constructors.\r\n *\r\n * Used during (de)serialization from the cross-language JSON format, which\r\n * requires the class name in the serialization format matches the class\r\n * names as used in Python, should it exist.\r\n */\r\nexport class SerializationMap {\r\n  private static instance: SerializationMap;\r\n  classNameMap: {\r\n    [className: string]:\r\n        [SerializableConstructor<Serializable>, FromConfigMethod<Serializable>]\r\n  };\r\n\r\n  private constructor() {\r\n    this.classNameMap = {};\r\n  }\r\n\r\n  /**\r\n   * Returns the singleton instance of the map.\r\n   */\r\n  static getMap(): SerializationMap {\r\n    if (SerializationMap.instance == null) {\r\n      SerializationMap.instance = new SerializationMap();\r\n    }\r\n    return SerializationMap.instance;\r\n  }\r\n\r\n  /**\r\n   * Registers the class as serializable.\r\n   */\r\n  static register<T extends Serializable>(cls: SerializableConstructor<T>) {\r\n    SerializationMap.getMap().classNameMap[cls.className] =\r\n        [cls, cls.fromConfig];\r\n  }\r\n}\r\n\r\n/**\r\n * Register a class with the serialization map of TensorFlow.js.\r\n *\r\n * This is often used for registering custom Layers, so they can be\r\n * serialized and deserialized.\r\n *\r\n * Example:\r\n *\r\n * ```js\r\n * class MyCustomLayer extends tf.layers.Layer {\r\n *   static className = 'MyCustomLayer';\r\n *\r\n *   constructor(config) {\r\n *     super(config);\r\n *   }\r\n * }\r\n * tf.serialization.registerClass(MyCustomLayer);\r\n * ```\r\n *\r\n * @param cls The class to be registered. It must have a public static member\r\n *   called `className` defined and the value must be a non-empty string.\r\n *\r\n * @doc {heading: 'Models', subheading: 'Serialization', ignoreCI: true}\r\n */\r\nexport function registerClass<T extends Serializable>(\r\n    cls: SerializableConstructor<T>) {\r\n  assert(\r\n      cls.className != null,\r\n      () => `Class being registered does not have the static className ` +\r\n          `property defined.`);\r\n  assert(\r\n      typeof cls.className === 'string',\r\n      () => `className is required to be a string, but got type ` +\r\n          typeof cls.className);\r\n  assert(\r\n      cls.className.length > 0,\r\n      () => `Class being registered has an empty-string as its className, ` +\r\n          `which is disallowed.`);\r\n\r\n  SerializationMap.register(cls);\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"1759951566969213d70b36f8c9a39c2d","cacheData":{"env":{}}}